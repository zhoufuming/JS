<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script type="text/javascript">
		// 之前我们的getByClass有一个缺陷,就是当元素有两个或两个以上的的className时，就会匹配不到！！！
		/*function getByClass(oParent,sClass){
			var aEle = oParent.getElementsByTagName("*");
			var aResult = [];
			var i = 0;
			
			for(i = 0;i < aEle.length;i++){
				if (aEle[i].className == sClass) {

					aResult.push(aEle[i]);
				}
			}
			return aResult;
		}*/

		// 完美版
		function getByClass(oParent,sClass){
			var aEle = oParent.getElementsByTagName("*");
			var aResult = [];
			//var re = new RegExp("\\b"+sClass+"\\b","i");
			var re = /\b(sClass)\b/i;
			var i = 0;
			
			for(i = 0;i < aEle.length;i++){
				if (re.test(aEle[i].className)) {

					aResult.push(aEle[i]);
				}
			}
			return aResult;
		}

		window.onload = function(){
			var oUl = document.getElementById("ul1");
			var aItem = getByClass(oUl,"item");
			alert(aItem.length);
		}
	</script>
</head>
<body>
	<ul id="ul1">
		<li></li>
		<li class="item active"></li>
		<li class="item"></li>
		<li class="item"></li>
		<li></li>
		<li></li>
	</ul>
</body>
</html>