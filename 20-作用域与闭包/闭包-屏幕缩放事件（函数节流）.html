<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<script type="text/javascript">
		window.onload=function(){
			var num = 0;
			var demo = document.getElementById("demo");
			
			window.onresize = throttle(function(){
				demo.innerHTML = window.innerWidth || document.documentElement.c2lientWidth;
				num++;
				console.log(num);
			},300);

			function throttle(fn,delay){	// 闭包版的节流，每隔一个时间间隔函数才能有效的执行
				var timer = null;
				return function(){
					clearTimeout(timer);
					timer = setTimeout(fn,delay);
				}
			}
		}
	</script>
</head>
<body>
	<div id="demo"></div>
</body>
</html>